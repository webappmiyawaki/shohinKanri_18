# 商品管理アプリ

# 1. 基礎課題

### 【商品検索画面】

- [x] 商品名＞＞未入力
- [x] 商品分類＞＞初期選択：空白
- [x] 検索結果の販売単価のデータがnullの場合は0として表示する。
- [x] 仕入単価を表示する。データがnullの場合は0として表示する。


### 検索仕様

- [x] 検索対象のテーブルは商品（shohin)テーブルとする。
- [x] 商品名は入力された文字列で **部分一致検索** を行う。**未入力の場合は、検索条件なし**として検索を行う。
- [x] 商品分類はドロップダウンリストで選択された商品分類を検索条件として使用する。ただし、**空白が選択された場合は、検索条件なし**として検索を行う。
- [x] 商品名と商品分類は**AND検索**とする（商品名に●●を含み、かつ商品分類が○○であるものを抽出）
- [x] 検索結果は**商品IDの昇順**で表示する。
- [x] 検索結果リストを表示する際、**選択ラジオボタンは未選択状態**とする。

### 削除仕様

- [x] 検索結果リストにて選択ラジオボタンで選択された行に対応する商品レコードを、商品(shohin）テーブルより削除する。
- [x] 選択ラジオボタンが未選択の場合、または検索結果リストが0件の場合は削除処理を行わない。
- [x] **削除処理が完了した場合は、「削除が完了しました」というメッセージを表示する。削除処理が行われなかった場合はメッセージは表示しない。**


### 追加仕様

- [x] 商品分類＞＞初期選択：空白
- [x] 追加商品情報：テキストエリアは未入力、ラジオボタンは未選択の状態とする。


# 【商品登録画面】

|チェック対象の画面項目名|チェック内容（★１）|エラーメッセージ|
|---|---|---|
|商品ID|未入力チェック|商品IDは必須項目です。|
|商品名|未入力チェック|商品名は必須項目です。|
|商品分類|未選択チェック|商品分類は必須項目です。|
|商品ID|文字数チェック（X=4）|商品IDはX文字以下で入力してください。|
|販売単価|整数値チェック|販売単価には整数を入力してください。|
|仕入単価|整数値チェック|仕入単価には整数を入力してください。|

- [x] 販売単価>>画面入力値をそのまま登録する。ただし未入力の場合は「0」として登録する。
- [x] 登録日>>NULL 固定として登録する。

- [x] 登録処理に成功した場合は「登録が完了しました」というメッセージを表示する。
- [x] 商品IDの重複など、何らかの理由で登録に失敗した場合は「登録処理時に問題が発生しました」というメッセージを表示する。

# ２. 追加課題

# ①（追加）商品更新機能

- [x] 本画面は、新規作成する。
- [x]  商品ID>>内容変更不可とする
- [x] 前画面（商品検索画面）にて選択された商品の情報を、商品テーブルから検索し各入力項目（No.1～No.6）に初期値として設定する。
（販売単価、仕入単価はデータベースに登録された値がnullの場合は
0を初期値として設定すること）
- 				

|チェック対象の画面項目名|チェック内容（★１）|エラーメッセージ|
|---|---|---|
|商品名|未入力チェック|商品名は必須項目です|
|販売単価|整数値チェック|販売単価には整数を入力してください|
|仕入単価|整数値チェック|仕入単価には整数を入力してください|			

- [x] torokubi>>現在日付を登録する。
- [x] 更新処理に成功した場合は「更新が完了しました」というメッセージを表示する。
- [x] 更新処理後も更新商品情報の各項目に入力された値は、ボタン押下前の状態を引き継ぐこと。

# ②（追加）商品データCSV出力機能

- [x] ファイル名は「shohin.csv」とする
- [x] 処理開始時点の商品テーブルのデータを商品IDの昇順で全件出力する。（検索結果リストの表示件数にかかわらず、全件を出力すること）
- [x] 1行1レコードとする。
- [x] 各データがカンマ区切りで区切られた、CSV形式でデータを出力する。
- [x] 先頭行はタイトル行とし、下記の出力ファイルイメージの内容を固定値として出力する。
- [x] 登録日のデータは出力しない。
- [x] 販売単価、または仕入単価にnullが登録されている場合、代わりに「0」と出力する。
- [x] 最終行は改行を行わないこと。

# ③機能改修

- [x] 検索結果リストが0件の場合、「更新」、「削除」ボタンを非表示にする。
- [x] 商品追加時に、登録日に現在日付を登録するようにする。
- [x] レスポンス応答時に検索条件、および検索結果リストを復元する
    - [x] ケース１　検索ボタン押下時
    - [x] ケース２　商品追加画面から戻るリンクを押下して戻ってきた場合。
    - [x] ケース３　商品更新画面から戻るリンクを押下して戻ってきた場合。
    - [x] ケース４　検索実施後、削除ボタンを押下
    - [x] ケース５　検索実施後、CSV全件出力ボタンを押下



